---
title: "[TIL]This 용법"
excerpt: "This 용법이란 무엇인가❓"

categories:
  - TIL
tags:
  - [TIL]
published: true
toc: true
toc_sticky: true

date: 2022-07-14
last_modified_at: 2022-07-14
---

# This 용법

> this는 어떻게 정의 되었느냐가 아니라
> 어떻게(how) 호출 되었느냐에 따라 결정된다.

## 🌱 this??

- this는 자신이 속한 객체 또는 자신이 생성할 인스턴스를 가리키는 자기 참조 변수다.
  > 대부분의 경우 this의 값은 함수를 호출한 방법이 결정합니다. 실행하는 중 할당으로 설정할 수 없고 함수를 호출할 때 마다 다를 수 있습니다. (MDN)
- this는 자바스크립트 엔진에 의해 암묵적으로 생성되며, 코드 어디서든 참조할 수 있다.

## 🌱 this 바인딩

> 📌 바인딩이란 식별자와 값을 연결하는 과정임.
> : 변수 선언은 변수 이름(식별자)과 확보된 메모리 공간의 주소를 바인딩 하는 것
> 📌 JS의 this는 함수가 호출 되는 방식에 따라 this에 바인딩 될 값, 즉 this바인딩이 동적으로 결정된다. strict mode 역시 영향을 준다.

### 일반 함수 호출(기본 바인딩)

non-strict mode인 경우 this는 전역객체가 바인딩 된다.

- 브라우저 환경 = `window`;
- Node.js 환경 = `global`;
- `window`객체 = 현재 실행 되고 있는 JS의 모든 변수, 함수, 객체 ,DOM등을 포함하고 있는 객체

```
console.log(this); // Window {...}
```

만약, strict mode인 경우에는 일반함수의 this는 `undefined`가 바인딩 됨
this는 객체의 프로퍼티나 메서드를 참조하기 위한 `자기 참조 변수`이므로 객체를 생성하지 않는 이상 일반 함수에서 this는 의미가 없음

```
function abcc() {
  'use strict';

  console.log(this); // undefined
}
abcc();
```

함수 안에서 또 함수를 호출 하더라도 `this`는 `window` 를 호출한다.

```
// 1. 일반 함수 범위
function abc() {
    console.log(this); // this는 window

    // 2. 함수 안에 함수가 선언된 내부 함수
    function lmn() {
        console.log(this); // this는 window
    }
    lmn();
}
abc();
```

### 객체의 메소드(Method)

> 함수를 어떤 객체의 메서드로 호출하면 `this`의 값은 그 객체를 사용합니다.(MDN)

![](/assets/image/객체의메소드1.png)

- 객체 또는 클래스 안에서 메소드를 실행한다면 `this`는 Object 자기자신
- `let person`은 객체이므로 그 안의 `this`는 `person`을 가르킨다.
- 일반 함수인 `welcome`을 선언한다.
  - 함수 `welcome()`안에서의 `this`는 `window`이므로 실행하면 `undefined`가 뜬다
- `person` 객체의 `welcome` 속성에 `welcome`함수 추가 (콘솔로 보니 자동 추가가 된다!!)
- `welcome`이 `person` 객체에서 호출 되었으니 출력🙆‍♀️ (//welcome joan)

![](/assets/image/객체의메소드2.png)

- `person`객체에 `thanks` 속성에 함수 선언하기
- `thanks` 함수를 외부의 변수에 할당
- 새로운 `girl`이라는 객체 속에 `person.thanks`를 할당해서 호출해보자!
- `this`가 포함된 함수가 호출된 객체가 `girl`이니까 thanks susan 출력됨

#### 메소드에서 내부 함수를 선언하는 경우에는 ❓🧐

![](/assets/image/객체의메소드3.png)

- `this`는 `window`를 가리켜서 `hello`만 뜬다!

### `apply/call/bind` 메소드에 의한 간첩 호출(명시적 바인딩)

- 우리가 의도한 결과가 나올 수 있도록 하는 메소드들

#### apply

> func.call(thisArg[, arg1[, arg2[, ...]]])
> call() 메소드는 주어진 this 값 및 각각 전달된 인수와 함께 함수를 호출합니다.(MDN)

- 첫 번째 인자를 this로 바인딩하고, 이후의 인자들을 호출할 함수의 매개변수로 사용함
- call을 사용하면서 구체적인 객체를 this로 지정할 수 있음

![](/assets/image/this용법call.png)

# 출처

[js this란 무엇일까](https://hanamon.kr/javascript-this%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C/)
[this](https://velog.io/@edie_ko/js-this)
[JS 개발자라면 꼭 알아야할 this](https://wormwlrm.github.io/2019/03/04/You-should-know-JavaScript-this.html.html)
